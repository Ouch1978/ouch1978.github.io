---
title: 一張圖看懂寫程式時常見的幾種鎖
description: 透過一張圖片快速瞭解寫程式時常見的鎖的種類及特性。
authors: ouch1978
tags: 
  - Programming
keywords:
  - 程式設計
  - 樂觀鎖
  - 悲觀鎖 
  - 自旋鎖
  - 互斥鎖
  - 讀/寫鎖

draft: true
---

## 前言

在寫程式的世界裡，充斥著各種不同的鎖，不同的鎖適用的情境也有所不同。

不同種類的鎖的特性和使用情境也是面試時常常被拿來當作考題的題目。

這篇文章就簡單的透過一張圖來介紹幾種比較常見的鎖。

<!--truncate-->

## 所以我說，圖呢?

下面這張圖就是今天的主角。

![寫程式時常見的各種鎖](common-locks-in-programming-world.png "寫程式時常見的各種鎖")

### 悲觀鎖

#### 互斥鎖

互斥鎖就是我們常看到的 Mutex。

最常見的用法就是在多執行緒中避免兩個執行緒同時存取同一個資源。

和自旋鎖的差別是，當執行緒遇到上鎖的物件時，它會進行 Sleep Waiting，等到鎖被釋放通知它之後才繼續存取的動作。

#### 自旋鎖

自旋鎖的特色是當執行緒遇到上鎖的物件時，它會進行 Busy Waiting，不斷反覆的去詢問鎖釋放了沒，直到它可以存取為止。

由於自旋鎖會不斷的去做詢問的動作，所以和互斥鎖相比會佔用相對多的 CPU 資源。



### 樂觀鎖

如果有覺得應該要被加在圖裡的鎖，歡迎提出來，我再重新整理一份。

以上。
