<!doctype html>
<html lang="zh-TW" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">連線到遠端 Windows Server 時出現 There are no Remote Desktop License Servers available to provide a license 的因應措施 | OUCH1978@GITHUB</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ouch1978.github.io/blog/2022/11/23/rdp-no-license-server-error-workaround"><meta data-rh="true" property="og:locale" content="zh_TW"><meta data-rh="true" name="docusaurus_locale" content="zh-TW"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-TW"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="robots" content="max-image-preview:large"><meta data-rh="true" name="og:type" content="article"><meta data-rh="true" name="fb:app_id" content="173025689387886"><meta data-rh="true" property="og:title" content="連線到遠端 Windows Server 時出現 There are no Remote Desktop License Servers available to provide a license 的因應措施 | OUCH1978@GITHUB"><meta data-rh="true" name="description" content="最近要透過遠端桌面連線到某一台 Windows Server 時，突然出現這個錯誤訊息： &#x27;The remote session was disconnected because there are no Remote Desktop License Servers available to provide a license&#x27; 然後就再也無法從我的電腦連進去了。不過，很神奇的是，有位同事說他沒遇到問題，還是可以從他的電腦遠端連線到同一台 Server..."><meta data-rh="true" property="og:description" content="最近要透過遠端桌面連線到某一台 Windows Server 時，突然出現這個錯誤訊息： &#x27;The remote session was disconnected because there are no Remote Desktop License Servers available to provide a license&#x27; 然後就再也無法從我的電腦連進去了。不過，很神奇的是，有位同事說他沒遇到問題，還是可以從他的電腦遠端連線到同一台 Server..."><meta data-rh="true" name="keywords" content="MSTSC,遠端桌面連線,GracePeriod"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-11-23T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/ouch1978"><meta data-rh="true" property="article:tag" content="Windows,Trouble Shooting"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ouch1978.github.io/blog/2022/11/23/rdp-no-license-server-error-workaround"><link data-rh="true" rel="alternate" href="https://ouch1978.github.io/blog/2022/11/23/rdp-no-license-server-error-workaround" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://ouch1978.github.io/blog/2022/11/23/rdp-no-license-server-error-workaround" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XA2FZH7CHR-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="OUCH1978@GITHUB RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="OUCH1978@GITHUB Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-20523508-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>


<link rel="search" type="application/opensearchdescription+xml" title="OUCH1978@GITHUB" href="/opensearch.xml">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&amp;display=swap">
<script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" async></script>
<script src="/assets/enablePangu.js" async></script><link rel="stylesheet" href="/assets/css/styles.1587ba79.css">
<script src="/assets/js/runtime~main.5b09c12f.js" defer="defer"></script>
<script src="/assets/js/main.f5c1887f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="主導航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OUCH1978@GITHUB</b></a><a class="navbar__item navbar__link" href="/docs/intro">文件庫</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">部落格</a></div><div class="navbar__items navbar__items--right"><a href="/slides" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">投影片</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切換淺色/暗黑模式（當前為淺色模式）" aria-label="切換淺色/暗黑模式（當前為淺色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜尋"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜尋</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="最近要透過遠端桌面連線到某一台 Windows Server 時，突然出現這個錯誤訊息： &#x27;The remote session was disconnected because there are no Remote Desktop License Servers available to provide a license&#x27; 然後就再也無法從我的電腦連進去了。不過，很神奇的是，有位同事說他沒遇到問題，還是可以從他的電腦遠端連線到同一台 Server..."><meta itemprop="keywords" content="MSTSC,遠端桌面連線,GracePeriod"><header><h1 class="title_f1Hy" itemprop="headline">連線到遠端 Windows Server 時出現 There are no Remote Desktop License Servers available to provide a license 的因應措施</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-11-23T00:00:00.000Z" itemprop="datePublished">2022年11月23日</time> · <!-- -->預估閱讀時間： 5 分鐘</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ouch1978" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/18132883?v=4" alt="Ouch Liu" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ouch1978" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Ouch Liu</span></a></div><small class="avatar__subtitle" itemprop="description">不務正業的架構師</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="前言">前言<a href="#前言" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>最近要透過遠端桌面連線到某一台 Windows Server 時，突然出現下面的錯誤訊息：</p>
<p><img loading="lazy" alt="遠端工作階段已中斷連線，因為沒有可用來提供授權的遠端桌面授權伺服器" src="data:image/png;base64,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" title="遠端工作階段已中斷連線，因為沒有可用來提供授權的遠端桌面授權伺服器" width="697" height="188" class="img_ev3q"></p>
<p>然後就再也無法從我的電腦連進去了。</p>
<p>不過，很神奇的是，有位同事說他沒遇到問題，還是可以從他的電腦遠端連線到同一台 Server...</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="原因">原因<a href="#原因" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>會發生這個問題的原因，簡單的說，是因為 Server 上安裝了遠端桌面連線服務功能，而且沒有指定給它使用的授權伺服器。</p>
<p>遠端桌面連線服務預設會提供 120 天的寬限期，等寬限期到期之後又還沒指定授權伺服器給它的話，它就會封鎖非 Local Admin 帳號並且使用 Console 模式的遠端連線。</p>
<p>而我同事還可以連上遠端 Server，就是因為他用的工具是 Remote Desktop Organizer，而且他勾選了 <code>Connect To Console</code> 這個選項。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="因應措施">因應措施<a href="#因應措施" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-local-admin-帳號搭配-console-模式連線到遠端-server">使用 Local Admin 帳號搭配 Console 模式連線到遠端 Server<a href="#使用-local-admin-帳號搭配-console-模式連線到遠端-server" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>前面有提到，非 Local Admin 帳號並且使用 Console 模式的遠端連線會被封鎖，所以我們只要用  Local Admin 帳號搭配 Console 模式來連到遠端 Server 就好啦!!</p>
<p>如果也是習慣使用 Remote Desktop Organizer 管理遠端桌面連線的話，只需要勾選 <code>Connect To Console</code> 這個選項即可。</p>
<p>不過，如果習慣  直接使用 Windows 內建的 MSTSC 的話，也可以在命令提示字元輸入 <code>mstsc /help</code> 這個指令的話，就可以看到遠端桌面連線的參數說明如下：</p>
<p><img loading="lazy" alt="遠端桌面連線使用方法" src="/assets/images/mstsc-usage-c4c1b569a0a8d748e3d980b6d81e0ee6.png" title="遠端桌面連線使用方法" width="838" height="1214" class="img_ev3q"></p>
<p>所以我們只要用下面的指令就可以用 Console 模式登入到遠端 Server：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mstsc /v:{遠端 Server IP} /admin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼到剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="刪除重置授權伺服器的寬限期">刪除/重置授權伺服器的寬限期<a href="#刪除重置授權伺服器的寬限期" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>只需要在遠端 Server 上使用登錄編輯程式，將 <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\RCM\GracePeriod</code> 裡面的登錄機碼刪除，然後<code>重新開機</code>即可。</p>
<p><img loading="lazy" alt="刪除寬限期登錄機碼" src="/assets/images/reset-grace-period-registry-7bde7b809a6d809c0ee9effc6d916b1b.png" title="刪除寬限期登錄機碼" width="1542" height="994" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意事項</div><div class="admonitionContent_BuS1"><ol>
<li>經過實測，也可以直接把 GracePeriod 整個機碼刪除。</li>
<li>在對 GracePeriod 機碼進行操作的時候有可能出現權限不足的錯誤，只需要把它的擁有者改成 Local Administrators 群組並且授與寫入權限就可以解決。</li>
</ol></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="正確的解決之道">正確的解決之道<a href="#正確的解決之道" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>要一勞永逸的解決這個問題的話，有兩種方法：</p>
<ol>
<li>
<p>設定遠端桌面連線授權伺服器： 如果有購買遠端桌面連線授權伺服器的話，當然就直接把它設定上去就好啦!!</p>
<p>設定的方法可以參考 <a href="https://techdirectarchive.com/2021/10/24/how-to-fix-the-issue-the-remote-session-was-disconnected-because-there-are-no-remote-desktop-license-servers-available-to-provide-a-license/" target="_blank" rel="noopener noreferrer" title="How to fix the issue “The remote session was disconnected because there are no Remote Desktop License Servers available to provide a license”">這篇文章</a></p>
</li>
<li>
<p>移除遠端桌面連線服務： 如果沒有購買遠端桌面連線授權伺服器，又不是非得要使用遠端桌面連線服務的功能的話，也可以考慮把相關功能移除即可。</p>
<p><img loading="lazy" alt="透過伺服器管理員移除遠端桌面服務" src="/assets/images/remove-remote-desktop-service-34ab6e3dc8ffa8f6d31b835228162f16.png" title="透過伺服器管理員移除遠端桌面服務" width="1541" height="993" class="img_ev3q"></p>
<p>除了使用 UI 之外，也可以透過 PowerShell 下指令來移除，指令如下：</p>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Uninstall-WindowsFeature -name Remote-Desktop-Services -includemanagementtools -confirm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼到剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意事項</div><div class="admonitionContent_BuS1"><p>我分別透過伺服器管理員 UI 和 PowerShell 去移除遠端桌面連線服務，但是都在重新開機之後就失敗了，不知道裡面到底是有什麼巫術。
只能說，除非你有授權伺服器可以用，不然如果沒必要的話，還是別裝這個服務來整自己啊!!</p></div></div></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>標籤：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/windows">Windows</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/trouble-shooting">Trouble Shooting</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/ouch1978/ouch1978.github.io/edit/main/blog/2022-11-23-rdp-no-license-server-error-workaround/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>編輯本頁</a></div></footer></article><div id="disqus_thread"></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2022/12/05/workaround-for-npm-web-login-not-support-error"><div class="pagination-nav__sublabel">下一篇</div><div class="pagination-nav__label">執行 npm login 時出現 Web login not supported 錯誤的因應措施</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2022/11/10/fix-sqlite-interop-dll-missing"><div class="pagination-nav__sublabel">上一篇</div><div class="pagination-nav__label">.NET Framework 專案出現找不到 SQLite.Interop.dll 的因應措施</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#前言" class="table-of-contents__link toc-highlight">前言</a></li><li><a href="#原因" class="table-of-contents__link toc-highlight">原因</a></li><li><a href="#因應措施" class="table-of-contents__link toc-highlight">因應措施</a><ul><li><a href="#使用-local-admin-帳號搭配-console-模式連線到遠端-server" class="table-of-contents__link toc-highlight">使用 Local Admin 帳號搭配 Console 模式連線到遠端 Server</a></li><li><a href="#刪除重置授權伺服器的寬限期" class="table-of-contents__link toc-highlight">刪除/重置授權伺服器的寬限期</a></li></ul></li><li><a href="#正確的解決之道" class="table-of-contents__link toc-highlight">正確的解決之道</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Ouch Liu(劉耀群). Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>