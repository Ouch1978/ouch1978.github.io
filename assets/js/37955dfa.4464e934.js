"use strict";(self.webpackChunkouch1978_at_github=self.webpackChunkouch1978_at_github||[]).push([[2999],{48323:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>d,frontMatter:()=>l,metadata:()=>a,toc:()=>o});var i=s(74848),r=s(28453);const l={title:"\u5728 Windows 10 \u624b\u52d5\u57f7\u884c DocSearch \u7684\u722c\u87f2",description:"\u4ecb\u7d39\u5728 Windows 10 \u624b\u52d5\u57f7\u884c DocSearch \u7684\u722c\u87f2\u7684\u65b9\u6cd5\u548c\u6d41\u7a0b\u3002",author:"ouch1978",tags:["Docusaurus","Algolia"],keywords:["Docusaurus","Algolia","\u641c\u5c0b","\u722c\u87f2"],last_update:{date:"2022/08/25 GMT+8",author:"Ouch Liu"}},t=void 0,a={id:"docusaurus/configuration/manually-run-docsearch-scraper-from-windows-10/index",title:"\u5728 Windows 10 \u624b\u52d5\u57f7\u884c DocSearch \u7684\u722c\u87f2",description:"\u4ecb\u7d39\u5728 Windows 10 \u624b\u52d5\u57f7\u884c DocSearch \u7684\u722c\u87f2\u7684\u65b9\u6cd5\u548c\u6d41\u7a0b\u3002",source:"@site/docs/04-docusaurus/02-configuration/01-manually-run-docsearch-scraper-from-windows-10/index.md",sourceDirName:"04-docusaurus/02-configuration/01-manually-run-docsearch-scraper-from-windows-10",slug:"/docusaurus/configuration/manually-run-docsearch-scraper-from-windows-10/",permalink:"/docs/docusaurus/configuration/manually-run-docsearch-scraper-from-windows-10/",draft:!1,unlisted:!1,editUrl:"https://github.com/ouch1978/ouch1978.github.io/edit/main/docs/04-docusaurus/02-configuration/01-manually-run-docsearch-scraper-from-windows-10/index.md",tags:[{label:"Docusaurus",permalink:"/docs/tags/docusaurus"},{label:"Algolia",permalink:"/docs/tags/algolia"}],version:"current",lastUpdatedBy:"Ouch Liu",lastUpdatedAt:16613568e5,frontMatter:{title:"\u5728 Windows 10 \u624b\u52d5\u57f7\u884c DocSearch \u7684\u722c\u87f2",description:"\u4ecb\u7d39\u5728 Windows 10 \u624b\u52d5\u57f7\u884c DocSearch \u7684\u722c\u87f2\u7684\u65b9\u6cd5\u548c\u6d41\u7a0b\u3002",author:"ouch1978",tags:["Docusaurus","Algolia"],keywords:["Docusaurus","Algolia","\u641c\u5c0b","\u722c\u87f2"],last_update:{date:"2022/08/25 GMT+8",author:"Ouch Liu"}},sidebar:"tutorialSidebar",previous:{title:"Markdown \u8a9e\u6cd5\u5c0f\u6284",permalink:"/docs/docusaurus/how-to-use/markdown-cheatsheet/"},next:{title:"\u900f\u904e GitHub Action \u628a\u7db2\u7ad9\u767c\u4f48\u5230 GitHub.io",permalink:"/docs/docusaurus/configuration/deploy-to-github-with-github-action/"}},c={},o=[{value:"\u524d\u8a00",id:"\u524d\u8a00",level:2},{value:"\u74b0\u5883\u6e96\u5099",id:"\u74b0\u5883\u6e96\u5099",level:2},{value:"\u5b89\u88dd Git Bash",id:"\u5b89\u88dd-git-bash",level:3},{value:"\u5b89\u88dd jq",id:"\u5b89\u88dd-jq",level:3},{value:"\u6e96\u5099 .env \u6a94",id:"\u6e96\u5099-env-\u6a94",level:3},{value:"\u6e96\u5099 config.json \u6a94",id:"\u6e96\u5099-configjson-\u6a94",level:3},{value:"\u900f\u904e Docker \u57f7\u884c\u722c\u87f2",id:"\u900f\u904e-docker-\u57f7\u884c\u722c\u87f2",level:2},{value:"\u5c0f\u62b1\u6028",id:"\u5c0f\u62b1\u6028",level:2},{value:"\u53c3\u8003\u8cc7\u6599",id:"\u53c3\u8003\u8cc7\u6599",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"\u524d\u8a00",children:"\u524d\u8a00"}),"\n",(0,i.jsxs)(n.p,{children:["Docusaurus \u5b98\u65b9\u7684\u641c\u5c0b\u529f\u80fd\u5408\u4f5c\u4f19\u4f34\u662f ",(0,i.jsx)(n.a,{href:"https://www.algolia.com/",title:"Algolia",children:"Algolia"})," \u9019\u500b\u641c\u5c0b\u5f15\u64ce\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u4f9d\u7167\u5b98\u65b9\u7684\u8aaa\u6cd5\uff0c\u5982\u679c\u4f60\u7684\u7db2\u7ad9\u539f\u59cb\u78bc\u662f\u958b\u653e\u7684\uff0c\u90a3\u61c9\u8a72\u5c31\u80fd\u514d\u8cbb\u4f7f\u7528\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u4e0d\u904e\uff0c\u4f9d\u7167\u6211\u500b\u4eba\u7684\u7d93\u9a57\uff0c\u597d\u50cf\u6574\u500b\u7533\u8acb\u7684\u6d41\u7a0b\u4e26\u4e0d\u662f\u90a3\u9ebc\u7c21\u55ae\u76f4\u89ba\u7684\uff0c\u6211\u5f9e 2022/03/11 \u63d0\u51fa\u7533\u8acb\uff0c\u5230 2022/03/20 \u90fd\u9084\u6c92\u6210\u529f\u901a\u904e\uff0c\u6240\u4ee5\u641c\u5c0b\u529f\u80fd\u4e00\u76f4\u662f\u4e0d\u80fd\u7528\u7684\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5c71\u4e0d\u8f49\u8def\u8f49\uff0c\u65e2\u7136 Algolia \u4e0d\u6703\u4e3b\u52d5\u4f86\u722c\uff0c\u6211\u5c31\u624b\u52d5\u81ea\u5df1\u722c!!!"}),"\n",(0,i.jsx)(n.h2,{id:"\u74b0\u5883\u6e96\u5099",children:"\u74b0\u5883\u6e96\u5099"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u5728 Windows 10 \u624b\u52d5\u57f7\u884c DocSearch \u7684\u722c\u87f2\uff0c\u9700\u8981\u5148\u5b8c\u6210\u4e0b\u5217\u5e7e\u9805\u5de5\u4f5c\uff1a"}),"\n",(0,i.jsx)(n.h3,{id:"\u5b89\u88dd-git-bash",children:"\u5b89\u88dd Git Bash"}),"\n",(0,i.jsxs)(n.p,{children:["\u6211\u4f9d\u7167\u5b98\u65b9\u6587\u4ef6\u76f4\u63a5\u900f\u904e PowerShell \u57f7\u884c\u6307\u4ee4\uff0c\u7d50\u679c\u4e00\u76f4\u51fa\u73fe ",(0,i.jsx)(n.code,{children:"CONFIG is not a valid JSON"})," \u7684\u932f\u8aa4\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5f8c\u4f86\u554f\u4e86\u8c37\u6b4c\u5927\u795e\uff0c\u624d\u767c\u73fe",(0,i.jsx)(n.a,{href:"https://stackoverflow.com/questions/65807537/algolia-run-the-crawl-from-the-docker-image",title:"Algolia Run the crawl from the Docker image",children:"\u6709\u4eba\u8ddf\u6211\u9047\u5230\u4e00\u6a23\u7684\u554f\u984c"}),"\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u539f\u56e0\u662f PowerShell \u4e0d\u652f\u63f4 cat \u6307\u4ee4\uff0c\u6539\u7528 Git Bash \u5c31\u53ef\u4ee5\u6b63\u5e38\u57f7\u884c\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u901a\u5e38\u5b89\u88dd Git \u5c31\u6703\u4e00\u4f75\u5b89\u88dd Git Bash \uff0c\u6240\u4ee5\u5b89\u88dd\u7684\u6b65\u9a5f\u5c31\u4e0d\u591a\u4f5c\u89e3\u91cb\u4e86\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u5b89\u88dd-jq",children:"\u5b89\u88dd jq"}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88dd jq \u662f\u70ba\u4e86\u80fd\u900f\u904e\u547d\u4ee4\u8b80\u53d6 JSON \u7684\u5167\u5bb9\uff0c\u53ef\u4ee5\u900f\u904e\u6709\u7cfb\u7d71\u7ba1\u7406\u54e1\u6b0a\u9650\u7684 PowerShell \u8f38\u5165\u4e0b\u5217\u6307\u4ee4\u547c\u53eb Chocolatey \u9032\u884c\u5b89\u88dd\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-powershell",children:"choco install jq\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u6e96\u5099-env-\u6a94",children:"\u6e96\u5099 .env \u6a94"}),"\n",(0,i.jsx)(n.p,{children:"\u5efa\u7acb\u4e00\u500b\u540d\u7a31\u70ba .env \u7684\u6a94\u6848\uff0c\u5167\u5bb9\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:'language-title=".env"',children:"APPLICATION_ID=\u4f60\u7684\u7db2\u7ad9\u5728 Algolia \u7684 Application Id\nAPI_KEY=\u4f60\u7684\u7db2\u7ad9\u7684 Admin API Key\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"\u6ce8\u610f",type:"tip",children:(0,i.jsx)(n.p,{children:"API_KEY \u662f Admin API Key\uff0c\u4e0d\u662f Search-Only API Key \u5594!!"})}),"\n",(0,i.jsx)(n.h3,{id:"\u6e96\u5099-configjson-\u6a94",children:"\u6e96\u5099 config.json \u6a94"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:'title="config.json" {1-8}',children:'{\n  "index_name": "ouch1978.github.io",\n  "start_urls": ["https://ouch1978.github.io/"],\n  "sitemap_urls": ["https://ouch1978.github.io/sitemap.xml"],\n  "sitemap_alternate_links": true,\n  "stop_urls": ["/tests"],\n  "selectors": {\n    "lvl0": {\n      "selector": "(//ul[contains(@class,\'menu__list\')]//a[contains(@class, \'menu__link menu__link--sublist menu__link--active\')]/text() | //nav[contains(@class, \'navbar\')]//a[contains(@class, \'navbar__link--active\')]/text())[last()]",\n      "type": "xpath",\n      "global": true,\n      "default_value": "Documentation"\n    },\n    "lvl1": "header h1",\n    "lvl2": "article h2",\n    "lvl3": "article h3",\n    "lvl4": "article h4",\n    "lvl5": "article h5, article td:first-child",\n    "lvl6": "article h6",\n    "text": "article p, article li, article td:last-child"\n  },\n  "strip_chars": " .,;:#",\n  "custom_settings": {\n    "separatorsToIndex": "_",\n    "attributesForFaceting": ["language", "version", "type", "docusaurus_tag"],\n    "attributesToRetrieve": ["hierarchy", "content", "anchor", "url", "url_without_anchor", "type"]\n  },\n  "conversation_id": ["833762294"],\n  "nb_hits": 46250\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u8acb\u8a18\u5f97\u628a ",(0,i.jsx)(n.code,{children:"index_name"}),"\u3001",(0,i.jsx)(n.code,{children:"start_urls"})," \u4ee5\u53ca ",(0,i.jsx)(n.code,{children:"sitemap_urls"})," \u9019\u4e09\u500b\u5c6c\u6027\u7684\u503c\u6539\u70ba\u7b26\u5408\u4f60\u7db2\u7ad9\u7684\u8a2d\u5b9a\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5982\u679c\u6709\u5fc5\u8981\u7684\u8a71\uff0c\u4e5f\u53ef\u4ee5\u81ea\u884c\u8abf\u6574 ",(0,i.jsx)(n.code,{children:"selectors"})," \u7684\u5167\u5bb9\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u900f\u904e-docker-\u57f7\u884c\u722c\u87f2",children:"\u900f\u904e Docker \u57f7\u884c\u722c\u87f2"}),"\n",(0,i.jsx)(n.p,{children:"\u8acb\u5728 Git Bash \u4e2d\u8f38\u5165\u4e0b\u5217\u6307\u4ee4\u4f86\u57f7\u884c\u722c\u87f2\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'docker run --env-file=.env -e "CONFIG=$(cat ./config.json | jq -r tostring)" algolia/docsearch-scraper\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u6c92\u610f\u5916\u7684\u8a71\uff0c\u61c9\u8a72\u6703\u770b\u5230\u722c\u87f2\u722c\u5b8c\u5efa\u7acb\u4e86\u591a\u5c11\u7b46\u8a18\u9304\uff0c\u5982\u4e0b\u5716\uff1a"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"\u722c\u87f2\u57f7\u884c\u6210\u529f\u7684\u8a0a\u606f",src:s(51558).A+"",title:"\u722c\u87f2\u57f7\u884c\u6210\u529f\u7684\u8a0a\u606f",width:"1393",height:"755"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5c0f\u62b1\u6028",children:"\u5c0f\u62b1\u6028"}),"\n",(0,i.jsx)(n.p,{children:"\u8a71\u8aaa\uff0c\u6211\u539f\u672c\u4ee5\u70ba\u53ea\u8981\u67b6\u597d\u7db2\u7ad9\uff0c\u641c\u5c0b\u529f\u80fd\u5c31\u80fd\u6b63\u5e38\u904b\u4f5c\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e0d\u904e\uff0c\u4e8b\u60c5\u5f80\u5f80\u4e0d\u50cf\u61a8\u4eba\u60f3\u5f97\u90a3\u9ebc\u7c21\u55ae\uff1b\u4f9d\u7167 ",(0,i.jsx)(n.a,{href:"https://docusaurus.io/docs/search#using-algolia-docsearch",title:"Using Algolia DocSearch",children:"Docusaurus \u5b98\u65b9\u6587\u4ef6\u6240\u8ff0"}),"\uff0c\u9084\u5f97\u8981\u4e3b\u52d5\u5411 Algolia \u63d0\u51fa\u7533\u8acb\u624d\u884c\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u6240\u4ee5\u6211\u5c31\u5728 2022/03/11 \u63d0\u51fa\u4e86\u7533\u8acb\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7136\u5f8c\u5c31\u767c\u73fe\u5b83\u5011\u7684 Support Center \u81ea\u52d5\u5e6b\u6211\u958b\u4e86\u4e00\u5f35\u554f\u984c\u55ae\uff0c\u6211\u4e4b\u5f8c\u6bcf\u5929\u5c31\u4e0a Support Center \u770b\u554f\u984c\u55ae\u7684\u72c0\u614b\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5f8c\u4f86\u5728 2022/03/15\uff0c\u6211\u6536\u5230\u4e00\u5c01 E-mail(\u61c9\u8a72\u662f\u5ba2\u670d\u5de5\u7a0b\u5e2b\u5bc4\u7684)\uff0c\u554f\u6211\u662f\u4e0d\u662f\u7db2\u7ad9\u7684\u7ba1\u7406\u8005\uff0c\u5982\u679c\u662f\u7684\u8a71\uff0c\u5c31\u56de\u4fe1\u4f5c\u70ba\u78ba\u8a8d\uff0c\u6240\u4ee5\u6211\u7acb\u523b\u5c31\u56de\u4fe1\u4e86\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u63a5\u8457\uff0c\u5728 2022/03/20\uff0c\u6211\u53c8\u6536\u5230\u53e6\u4e00\u5c01\u7cfb\u7d71\u81ea\u52d5\u5bc4\u9001\u7684 E-mail\uff0c\u8aaa\u6211\u4e00\u76f4\u6c92\u56de\u8986\uff0c\u5982\u679c\u518d\u4e0d\u56de\u7684\u8a71\u554f\u984c\u55ae\u5c31\u6703\u81ea\u52d5\u5c31\u5207\u6210\u5df2\u89e3\u6c7a\u3002(\u54a6!?...)"}),"\n",(0,i.jsx)(n.p,{children:"\u6211\u53ea\u597d\u5f88\u7121\u8a00\u4e86\u56de\u4fe1\u3001\u540c\u6642\u5230 Support Center \u88e1\u9762\u4e5f\u518d\u56de\u8986\u4e00\u6a23\u7684\u5167\u5bb9\u3002(\u9019\u6b21\u7e3d\u4e0d\u6703\u518d\u8aaa\u6211\u6c92\u56de\u4e86\u5427?)"}),"\n",(0,i.jsx)(n.p,{children:"\u539f\u672c\u6211\u4ee5\u70ba\u6574\u500b\u6d41\u7a0b\u61c9\u8a72\u53ea\u8981\u5169\u4e09\u5929\uff0c\u4e0d\u904e\u7d93\u904e\u5be6\u6e2c\uff0c\u4e0d\u77e5\u9053\u4ec0\u9ebc\u6642\u5019\u624d\u80fd\u641e\u5b9a\uff0c\u7e3d\u4e0d\u80fd\u8b93\u641c\u5c0b\u529f\u80fd\u4e00\u76f4\u662f\u58de\u7684\uff0c\u4e7e\u8106\u5c31\u5148\u624b\u52d5\u89e3\u6c7a\u4e86\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u53c3\u8003\u8cc7\u6599",children:"\u53c3\u8003\u8cc7\u6599"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docsearch.algolia.com/docs/legacy/run-your-own/",title:"Run your own",children:"Run your own"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://kuizuo.cn/develop/%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B9%8BDocusaurus/#%E6%89%8B%E5%8A%A8%E7%88%AC%E5%8F%96",title:"\u6127\u600d-\u7b2c\u4e8c\u4e2a\u535a\u5ba2\u642d\u5efa\u4e4bDocusaurus",children:"\u6127\u600d-\u7b2c\u4e8c\u4e2a\u535a\u5ba2\u642d\u5efa\u4e4b Docusaurus"})}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},51558:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/docsearch-scraper-result-ea280bf980f1ccb6943fb87a14adfe97.png"},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var i=s(96540);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);